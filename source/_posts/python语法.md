---
title: python语法
date: 2025-03-31 13:55:23
category: python语法
---

# 函数传递参数
你问得太好了！这个“`kw1` 为什么可以传”背后牵扯到 Python 函数参数定义的顺序规则，尤其是 `*args` 后面的部分。

咱们就用这段函数定义来详细解释：

```python
def func(pos1, pos2, /, arg1, arg2=2, *args, kw1, kw2=3, **kwargs):
    ...
```

---

## 🔍 拆解一下每一段的含义：

| 部分              | 说明 |
|-------------------|------|
| `pos1, pos2, /`   | 这两个参数只能通过 **位置传参**，不能用关键字。这个语法是 Python 3.8+ 才支持的。 |
| `arg1, arg2=2`    | 可以通过位置或关键字传参，有默认值的就是可选的。|
| `*args`           | 接收任意个的位置参数，打包成元组。|
| `kw1, kw2=3`      | ❗这些参数必须用**关键字传参**（不能位置传参），因为在 `*args` 之后定义了。|
| `**kwargs`        | 接收多余的关键字参数，打包成字典。|

---

## 🎯 回答你的问题：

> 为什么 `kw1` 必须用关键字传，而不能直接当作普通位置参数？

### 👉 原因：

因为 **`kw1` 出现在 `*args` 后面**。

- 函数中只要出现了 `*args`（或者你明确写了 `*`），
- 那么后面所有的参数都**只能用关键字**来传。

这是一种非常清晰的方式，让你强制用关键字传递那些更难读懂或者需要明确命名的参数。

---

## 🔧 举个完整的例子：

```python
def example(a, b=2, *args, kw1, kw2=5, **kwargs):
    print(f"a = {a}")
    print(f"b = {b}")
    print(f"args = {args}")
    print(f"kw1 = {kw1}")
    print(f"kw2 = {kw2}")
    print(f"kwargs = {kwargs}")
```

### ✅ 合法的调用：

```python
example(1, 10, 20, 30, kw1="hello", debug=True)
```

输出：
```
a = 1
b = 10
args = (20, 30)
kw1 = hello
kw2 = 5
kwargs = {'debug': True}
```

### ❌ 不合法的调用（会报错）：

```python
example(1, 10, 20, 30, "oops")
# TypeError: example() takes 2 positional arguments but 5 were given
```

---

## ✅ 小总结：

- `kw1` 是在 `*args` 后面，所以 **只能**用 `kw1=值` 的方式传；
- 如果你不给它传值，就会报错；
- 这是 Python 提供的一种方式，强制你用更清晰的调用方式（显式关键字）来传某些重要参数。

---

# 默认值参数与关键字参数的区别
你问得太到位了！**默认值参数** 和 **关键字参数** 很容易混淆，但其实它们是**不同维度**的概念，下面我来帮你彻底厘清 👇

---

## 🧠 关键词先导图

| 概念         | 是“参数的定义方式”还是“传参方式”？ |
|--------------|----------------------------|
| 默认值参数     | ✅ 是“参数的定义方式”        |
| 关键字参数     | ✅ 是“参数的传参方式”        |

---

## 🔍 1. 默认值参数（Default Parameter）

### 👉 定义上说的，是“**参数在函数定义时是否设置了默认值**”。

### 示例：

```python
def greet(name, age=18):
    ...
```

这里：
- `name` 是普通参数（必须传）
- `age=18` 是默认值参数（可传可不传）

---

### ✅ 使用方式：

```python
greet("Alice")          # age 会自动用默认值 18
greet("Bob", 25)        # age 传了 25，会覆盖默认值
```

🧠 **重点**：默认值参数是为了**让参数变得可选**，简化调用。

---

## 🔍 2. 关键字参数（Keyword Argument）

### 👉 是指你在**调用函数时**，用 `key=value` 的形式传参。

### 示例：

```python
def greet(name, age):
    ...
greet(name="Alice", age=25)   # 用关键字方式传参
```

这里你传的是 **关键字参数**，但 `age` 可能根本不是默认值参数哦！

---

### ✅ 关键字参数可以传给任何非 `*args` 的参数，只要名字对上就行。

```python
def hello(a, b, c):
    ...

hello(a=1, b=2, c=3)  # 这些全是关键字参数
```

---

## 🔄 对比总结

| 比较点           | 默认值参数                   | 关键字参数                         |
|------------------|------------------------------|-------------------------------------|
| 是定义时的概念？ | ✅ 是                         | ❌ 不是                             |
| 是调用时的方式？ | ❌ 不是                       | ✅ 是                               |
| 是否有默认值？   | ✅ 有默认值（可选）           | ❌ 不一定，关键字参数可传任意参数 |
| 示例             | `def foo(a=1)`               | `foo(a=1)`                          |
| 本质作用         | 给参数提供备选值              | 显式指定要给哪个参数传值           |

---

## 🧪 小测试题：判断哪一项是默认值参数，哪一项是关键字参数

```python
def f(x, y=10, *args, z=20, **kwargs):
    ...

f(1, 2, 3, 4, z=30, debug=True)
```

分析：

- `y=10`, `z=20` → ✅ 默认值参数（定义时设了默认）
- `z=30`, `debug=True` → ✅ 关键字参数（调用时 key=value）
- `1, 2, 3, 4` → ✅ 位置参数（按顺序给 x, y, *args）

---


# 总结
```python
def test(a, b=1 ,c=2, *args, d=2, e, **kargs)
```
***args后面必须用关键字参数传递**